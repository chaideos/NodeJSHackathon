var fs = require('fs');

// returns the path to the word list which is separated by `\n`
var wordListPath = require('word-list');

var wordArray = fs.readFileSync(wordListPath, 'utf8').split('\n');


module.exports = {

    /**
     * Checks if word is valid.
     *
     * @param  {String} word the String to check if is a valid word.
     * @return {Boolean} True if valid, false otherwise.
     */
    isWord: function(word) {
        return wordArray.indexOf(word) > -1;
    },

    scoreWord: function(currentWord, wordToScore) {
        if(this.isWord(wordToScore)) {
            var lastLetterCurrentWordIndex = currentWord.length - 1;

            // First letter of new word has to equal current word
            if(this.isWord(currentWord) && currentWord[lastLetterCurrentWordIndex] == wordToScore[0]) {
                var score = 0;
                for(var i = 0; i < wordToScore.length; i++) {
                    if(wordToScore[i] == currentWord[lastLetterCurrentWordIndex]) {
                        score++;
                    }
                }

                return score;
            }

        }

        return 0;
    }
};